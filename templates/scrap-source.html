{% extends "base-layout.html" %}
{% block inline_css %}
form>ul
	{
	flex-direction: row;
	flex-wrap: wrap;
	}
form>ul>li:first-child,
form>ul>li:nth-last-child(3),
form>ul>li:nth-last-child(2),
form>ul>li:last-child
	{
	width: 100%;
	}
form>ul>li:nth-child(3)
	{
	margin-left: 1em;
	}
form>ul>li>label
	{
	text-align: right;
	width: 8.2em;
	}
textarea
	{
	min-height: 20em;
	}
{% endblock %}
{% block content %}
	<form method="POST">
		<ul>
			<li>
				<label for="sourceURL">{{locale.fetch.url}}</label>
				<input id="sourceURL" name="sourceURL" {%if url%}value="{{url}}" {% endif %}required="required"/>
			</li>
			<li>
				<label for="cacheOption">{{locale.fetch.option}}</label>
				<select id="cacheOption" name="cacheOption" required="required">
					<option value="no_cache">{{locale.fetch.no_cache}}</option>
					<option value="cache" selected="selected">{{locale.fetch.cache}}</option>
					<option value="update_cache">{{locale.fetch.update_cache}}</option>
				</select>
			</li>
			<li>
				<label for="sourceEncoding">{{locale.fetch.encoding}}</label>
				<select id="sourceEncoding" name="sourceEncoding" required="required">
				</select>
			</li>
			<li>
				<label for="scrapSource">{{locale.scrap.source|e}}</label>
				<textarea id="scrapSource" name="scrapSource">{{source}}</textarea>
			</li>
			<li>
				<label for="scrapSelectors">{{locale.scrap.selectors}}</label>
				<textarea id="scrapSelectors" name="scrapSelectors">{{selectors}}</textarea>
			</li>
			<li>
				<label for="scrapTabularSelectors">{{locale.scrap.tabular_selectors}}</label>
				<textarea id="scrapTabularSelectors" name="scrapTabularSelectors">{{tabular_selectors}}</textarea>
			</li>
		</ul>
		<button type="submit">{{locale.scrap.submit}}</button>
	</form>
	<div id="">{{response}}</div>
{% endblock %}
{% block inline_body_js %}
	window.addEventListener('load', function ()
		{
		selectIfPresent('cacheOption', "cache");
		fillSelectList('sourceEncoding',encodingList);
		selectIfPresent('sourceEncoding', "utf_8");
		}, false);
{% endblock %}
